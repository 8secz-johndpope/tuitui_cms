(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1002:function(e,a,t){"use strict";t.r(a);var n=t(46),l=t(47),r=t(50),c=t(48),o=t(49),i=t(0),u=t.n(i),s=t(89),m=t(264),d=t(801),p=t(826),h=t(796),f=t(822),g=t(988),E=t(819),k=t(106),b=t(276),v=function(e){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e,a,t,n,l,r=this.props,c=r.spreadLinkInfo,o=r.tagList,s=r.index,m=this.props,b=m.delLink,v=m.updateWeight,I=m.cancelUpdate,C=m.saveUpdate,S=m.changeInputValue,y=m.addLink,w=m.cancelSelectTag,L=m.addTag,T=m.submitSpreadLink,N=m.cancelEdit,_=m.deleteTag,j=m.selectTag,O=c.title,U=c.links,B=c.weights,x=c.back_urls,z=c.link,D=c.back_url,P=c.weight,W=c.type,V=c.status,J=c.granularity,R=c.group,q=c.remarks;return U.length>0&&(a=u.a.createElement(d.a.Item,{label:"\u94fe\u63a5\u7ec4"},u.a.createElement(p.a,{size:"small",bordered:!0,dataSource:U,renderItem:function(e,a){return u.a.createElement(p.a.Item,{actions:[u.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:function(){return b(a,"links")}},"del")]},e)}}))),x.length>0&&(t=u.a.createElement(d.a.Item,{label:"\u8fd4\u56de\u94fe\u63a5\u7ec4"},u.a.createElement(p.a,{size:"small",bordered:!0,dataSource:x,renderItem:function(e,a){return u.a.createElement(p.a.Item,{actions:[u.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:function(){return b(a,"back_urls")}},"del")]},e)}}))),B.length>0&&(n=u.a.createElement(d.a.Item,{label:"\u6743\u91cd\u7ec4"},u.a.createElement(p.a,{size:"small",bordered:!0,dataSource:B,renderItem:function(e,a){var t;return t=s===a?[u.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:I},"\u53d6\u6d88")]:[u.a.createElement("span",{className:"cursor",style:{color:"#f00"},onClick:function(e){return b(a,"weights",e)}},"\u5220\u9664")],u.a.createElement(p.a.Item,{onClick:function(){return v(a)},actions:t},s===a?u.a.createElement(h.a.Search,{size:"small",enterButton:"\u4fdd\u5b58",onSearch:C}):e)}}))),W&&(e=u.a.createElement(i.Fragment,null,u.a.createElement(d.a.Item,{label:"\u6743\u91cd"},u.a.createElement(h.a.Search,{value:P,enterButton:"\u6dfb\u52a0",placeholder:"\u8bf7\u8f93\u5165\u6743\u91cd",onChange:function(e){return S(e.target.value,"weight")},onSearch:function(e){return y(e,"weights","weight")}})),n,u.a.createElement(d.a.Item,{label:"\u6295\u653e\u72b6\u6001"},u.a.createElement(f.a,{checked:V,onChange:function(e){return S(e,"status")}})),u.a.createElement(d.a.Item,{label:"\u65f6\u95f4\u9897\u7c92\u5ea6"},u.a.createElement(g.a,{min:1,value:J,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:function(e){return S(e,"granularity")}})))),l=R?u.a.createElement(E.a,{closable:!0,onClose:w},R):u.a.createElement(h.a.Search,{enterButton:"\u786e\u5b9a",placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e",onSearch:L}),u.a.createElement("div",null,u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"title-wrapper"},u.a.createElement("h2",null,"\u7f16\u8f91\u63a8\u5e7f\u94fe\u63a5"),u.a.createElement("div",{className:"fr"},u.a.createElement(k.a,{type:"primary",style:{marginRight:10},onClick:T},"\u63d0\u4ea4"),u.a.createElement(k.a,{onClick:N},"\u53d6\u6d88"))),u.a.createElement(d.a,{className:"fl",style:{width:"60%",borderRight:"1px solid #eee"},labelCol:{sm:3},wrapperCol:{sm:18,offset:0},colon:!1},u.a.createElement(d.a.Item,{label:"\u6807\u9898"},u.a.createElement(h.a,{value:O,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:function(e){return S(e.target.value,"title")}})),u.a.createElement(d.a.Item,{label:"\u94fe\u63a5"},u.a.createElement(h.a.Search,{value:z,enterButton:"\u6dfb\u52a0",placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5",onChange:function(e){return S(e.target.value,"link")},onSearch:function(e){return y(e,"links","link")}})),a,u.a.createElement(d.a.Item,{label:"\u8fd4\u56de\u94fe\u63a5"},u.a.createElement(h.a.Search,{value:D,enterButton:"\u6dfb\u52a0",placeholder:"\u8bf7\u8f93\u5165\u8fd4\u56de\u94fe\u63a5",onChange:function(e){return S(e.target.value,"back_url")},onSearch:function(e){return y(e,"back_urls","back_url")}})),t,u.a.createElement(d.a.Item,{label:"\u9009\u62e9\u6807\u7b7e"},l),u.a.createElement(d.a.Item,{label:"\u6807\u7b7e\u9009\u9879"},o.map(function(e,a){return u.a.createElement(E.a,{className:"cursor",closable:!0,onClose:function(t){return _(t,e._id,a)},key:e._id,onClick:function(){return j(e.name)}},e.name)}))),u.a.createElement(d.a,{className:"fl",style:{width:"36%",paddingLeft:"4%"},labelCol:{sm:7},wrapperCol:{sm:17,offset:0},colon:!1},u.a.createElement(d.a.Item,{label:"\u662f\u5426\u589e\u52a0\u6743\u91cd"},u.a.createElement(f.a,{checked:W,onChange:function(e){return S(e,"type")}})),e,u.a.createElement(d.a.Item,{label:"\u94fe\u63a5\u5907\u6ce8"},u.a.createElement(h.a,{value:q,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8",onChange:function(e){return S(e.target.value,"remarks")}})))))}},{key:"componentDidMount",value:function(){var e=this.props.history.location.query;e&&this.props.initData(e)}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),a}(i.Component);a.default=Object(s.g)(Object(m.b)(function(e){return{spreadLinkInfo:e.channel.spread.spreadLinkInfo,tagList:e.channel.spread.tagList,index:e.channel.spread.index}},function(e){return{initData:function(a){e(b.a.initData(a))},changeInputValue:function(a,t){e(b.a.changeInputValue(a,t))},addLink:function(a,t,n){e(b.a.addLink(a,t,n))},delLink:function(a,t,n){n&&n.stopPropagation(),e(b.a.delLink(a,t))},addTag:function(a){e(b.a.addTag(a))},selectTag:function(a){e(b.a.selectTag(a))},cancelSelectTag:function(){e(b.a.cancelSelectTag())},deleteTag:function(a,t,n){a.stopPropagation(),e(b.a.deleteTag(t,n)),e(b.a.cancelSelectTag())},updateWeight:function(a){e(b.a.updateWeight(a))},saveUpdate:function(a,t){t.stopPropagation(),e(b.a.saveUpdate(a))},cancelUpdate:function(a){a.stopPropagation(),e(b.a.cancelUpdate())},submitSpreadLink:function(){e(b.a.submitSpreadLink())},cancelEdit:function(){e(b.a.cancelEdit())},resetState:function(){e(b.a.resetState())}}})(v))}}]);