(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1014:function(t,e,a){"use strict";a.r(e);var n=a(6),o=a(38),l=a(39),r=a(41),i=a(40),c=a(266),m=a(42),f=a(0),u=a.n(f),s=a(869),d=a(96),g=a(59),b=a(1016),p=a(801),h=a(796),v=a(805),P=a(4),k=s.a.Option,I=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(r.a)(this,Object(i.a)(e).call(this,t))).state={platformList:[],emptyText:"",modalVisible:!1,platformInfo:{platform:1,gonghao_name:"",seruid:"",secret:"",email:""},title:"\u6dfb\u52a0\u5e73\u53f0",allPlatform:[]},a.getPlatformList=a.getPlatformList.bind(Object(c.a)(a)),a.getAllPlatform=a.getAllPlatform.bind(Object(c.a)(a)),a.addPlatform=a.addPlatform.bind(Object(c.a)(a)),a.changePlatformInfoInput=a.changePlatformInfoInput.bind(Object(c.a)(a)),a.submitPlatform=a.submitPlatform.bind(Object(c.a)(a)),a.cancelAction=a.cancelAction.bind(Object(c.a)(a)),a.editPlatform=a.editPlatform.bind(Object(c.a)(a)),a.deletePlatform=a.deletePlatform.bind(Object(c.a)(a)),a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"getPlatformList",value:function(){var t=this;P.a.get("/platform").then(function(e){var a=e.data,n=a.code,o=a.msg,l=a.data;1===n?t.setState({platformList:l}):t.setState({emptyText:o,platformList:[]})})}},{key:"getAllPlatform",value:function(){var t=this;P.a.get("/platformManage").then(function(e){var a=e.data.data;t.setState({allPlatform:a})})}},{key:"addPlatform",value:function(){this.setState({modalVisible:!0})}},{key:"changePlatformInfoInput",value:function(t,e){var a=this.state.platformInfo;a[e]=t,this.setState({platformInfo:a})}},{key:"submitPlatform",value:function(){var t=this.state.platformInfo;t._id?this.updatePlatform(t):this.createPlatform(t)}},{key:"createPlatform",value:function(t){var e=this;d.a.confirm({title:"\u60a8\u786e\u8ba4\u521b\u5efa\u4e00\u6761\u65b0\u7684\u5185\u5bb9\u5417\uff1f",onOk:function(){P.a.post("/platform",Object(n.a)({},t)).then(function(t){var a=t.data,n=a.code,o=a.msg;1===n?(g.a.success(o),e.getPlatformList(),e.cancelAction()):g.a.error(o)})}})}},{key:"updatePlatform",value:function(t){var e=this;d.a.confirm({title:"\u60a8\u786e\u8ba4\u4fdd\u5b58\u8fd9\u6b21\u4fee\u6539\u5417\uff1f",onOk:function(){P.a.put("/platform",Object(n.a)({},t)).then(function(t){var a=t.data,n=a.code,o=a.msg;1===n?(g.a.success(o),e.getPlatformList(),e.cancelAction()):g.a.error(o)})}})}},{key:"cancelAction",value:function(){this.setState({modalVisible:!1,platformInfo:{platform:1,gonghao_name:"",seruid:""}})}},{key:"editPlatform",value:function(t){this.setState({platformInfo:t,modalVisible:!0})}},{key:"deletePlatform",value:function(t){var e=this;d.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417\uff1f",onOk:function(){P.a.delete("/platform",{params:{id:t}}).then(function(t){var a=t.data,n=a.code,o=a.msg;1===n?(g.a.success(o),e.getPlatformList()):g.a.error(o)})}})}},{key:"UNSAFE_componentWillMount",value:function(){this.getPlatformList(),this.getAllPlatform()}},{key:"render",value:function(){var t=this,e=this.state,a=e.platformList,o=e.emptyText,l=e.modalVisible,r=e.platformInfo,i=e.title,c=e.allPlatform,m=[{dataIndex:"platform",key:"platform",title:"\u5e73\u53f0\u540d\u79f0",align:"center",render:function(t){return 1===t?"\u9605\u6587":2===t?"\u817e\u6587":3===t?"\u6709\u4e66\u9601":4===t?"\u638c\u8bfb":"\u65e0"}},{dataIndex:"gonghao_name",key:"gonghao_name",title:"\u516c\u53f7\u540d\u79f0",align:"center"},{dataIndex:"seruid",key:"seruid",title:"\u516c\u53f7id",align:"center"},{dataIndex:"secret",key:"secret",title:"secret",align:"center"},{dataIndex:"email",key:"email",title:"\u90ae\u7bb1",align:"center"},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(e,a,o){return u.a.createElement("div",null,u.a.createElement(v.a,{onClick:function(){return t.editPlatform(Object(n.a)({},a))},buttonContent:"\u7f16\u8f91"}),u.a.createElement(v.a,{onClick:function(){return t.deletePlatform(a._id)},background:"danger",buttonContent:"\u5220\u9664"}))}}];return u.a.createElement("div",null,u.a.createElement("div",{className:"container"},u.a.createElement(v.a,{mb:20,size:"default",onClick:this.addPlatform,background:"success",buttonContent:"\u6dfb\u52a0"}),u.a.createElement(b.a,{rowKey:function(t){return t._id},columns:m,dataSource:a,locale:{emptyText:o},size:"small"})),u.a.createElement(d.a,{title:i,visible:l,onOk:this.submitPlatform,onCancel:this.cancelAction},u.a.createElement(p.a,{labelCol:{span:6},wrapperCol:{span:14}},u.a.createElement(p.a.Item,{label:"\u5e73\u53f0\u540d\u79f0"},u.a.createElement(s.a,{value:r.platform,onChange:function(e){return t.changePlatformInfoInput(e,"platform")}},c.map(function(t){return u.a.createElement(k,{key:t._id,value:t.platform},t.name)}))),u.a.createElement(p.a.Item,{label:"\u516c\u53f7\u540d\u79f0"},u.a.createElement(h.a,{value:r.gonghao_name,onChange:function(e){return t.changePlatformInfoInput(e.target.value,"gonghao_name")}})),u.a.createElement(p.a.Item,{label:"\u516c\u53f7id"},u.a.createElement(h.a,{value:r.seruid,onChange:function(e){return t.changePlatformInfoInput(e.target.value,"seruid")}})),u.a.createElement(p.a.Item,{label:"secret"},u.a.createElement(h.a,{value:r.secret,onChange:function(e){return t.changePlatformInfoInput(e.target.value,"secret")}})),u.a.createElement(p.a.Item,{label:"\u90ae\u7bb1"},u.a.createElement(h.a,{value:r.email,onChange:function(e){return t.changePlatformInfoInput(e.target.value,"email")}})))))}}]),e}(f.Component);e.default=I},805:function(t,e,a){"use strict";var n=a(38),o=a(39),l=a(41),r=a(40),i=a(42),c=a(0),m=a.n(c),f=a(106),u={warning:"#F39C12",danger:"#E74C3C",success:"#2ECC71",info:"#7F8C8D",update:"#3498DB"},s=function(t){function e(){var t,a;Object(n.a)(this,e);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(i)))).state={buttonStyle:{background:"#3498DB",color:"#fff",marginRight:5,marginLeft:0,marginBottom:0}},a}return Object(i.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.background,a=void 0===e?"update":e,n=t.color,o=void 0===n?"#fff":n,l=t.mr,r=void 0===l?5:l,i=t.ml,c=void 0===i?0:i,m=t.mb,f=void 0===m?0:m;this.setState({buttonStyle:{background:u[a],color:o,marginRight:r,marginLeft:c,marginBottom:f}})}},{key:"render",value:function(){var t=this.props,e=t.size,a=void 0===e?"small":e,n=t.buttonContent,o=t.disabled,l=void 0!==o&&o,r=t.onClick,i=this.state.buttonStyle;return m.a.createElement(f.a,{size:a,disabled:l,style:i,onClick:r},n)}}]),e}(c.Component);e.a=s}}]);