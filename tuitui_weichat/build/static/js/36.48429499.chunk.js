(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1009:function(t,e,a){"use strict";a.r(e);var n=a(10),r=a(43),i=a(44),o=a(46),c=a(45),s=a(266),u=a(47),d=a(0),l=a.n(d),f=a(261),m=a(1021),g=a(94),h=a(62),b=a(5),p=a(76),k=a(809),v=f.a.TabPane,y=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(o.a)(this,Object(c.a)(e).call(this,t))).state={spreadData:[],domain_names:[],tagList:[],dataList:[]},a.changeTab=a.changeTab.bind(Object(s.a)(a)),a}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this,e=this.state,a=e.spreadData,r=e.tagList.map(function(t){return l.a.createElement(v,{tab:t.name,key:t.name})}),i=[{key:"links",title:"\u94fe\u63a5",align:"center",width:280,render:function(t,e){return l.a.createElement("p",{style:{width:280,wordWrap:"break-word",userSelect:"all"}},"http://doumobone.top/cmst/"+e.id)}},{key:"group",dataIndex:"group",title:"\u5206\u7ec4",align:"center",width:120},{key:"title",dataIndex:"title",title:"\u6807\u9898",align:"center"},{key:"remarks",dataIndex:"remarks",title:"\u5907\u6ce8",align:"center",width:100,render:function(t){return t||"\u65e0"}},{title:"\u6570\u636e",align:"center",width:80,render:function(t,e){return l.a.createElement("a",{href:"http://doumobone.top/transfer/"+e.id,target:"_blank"},"\u67e5\u770b\u6570\u636e")}},{title:"\u7f6e\u9876",align:"center",width:80,render:function(e,a){return l.a.createElement(k.a,{background:"warning",onClick:function(){return t.goTop(a._id)},buttonContent:"\u7f6e\u9876"})}},{title:"Action",align:"center",width:200,render:function(e,a,r){return l.a.createElement("div",null,l.a.createElement(k.a,{buttonContent:l.a.createElement(p.b,{to:{pathname:"./update",query:Object(n.a)({},a)}},"\u4fee\u6539")}),l.a.createElement(k.a,{background:"danger",buttonContent:"\u5220\u9664",onClick:function(){return t.deleteLink(a._id,r)}}),l.a.createElement(k.a,{background:"success",mr:0,buttonContent:"\u590d\u5236",onClick:function(){return t.copyLink(Object(n.a)({},a))}}))}}];return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement(k.a,{size:"default",background:"success",mb:20,buttonContent:l.a.createElement(p.b,{to:"./create"},"\u6dfb\u52a0\u65b0\u94fe\u63a5")}),l.a.createElement(f.a,{animated:!1,defaultActiveKey:"ALL",tabBarGutter:0,onChange:this.changeTab,size:"small"},l.a.createElement(v,{tab:"ALL",key:"ALL"}),r),l.a.createElement(m.a,{rowKey:function(t){return t._id},size:"small",bordered:!0,columns:i,dataSource:a})))}},{key:"componentDidMount",value:function(){this.getSpreadList(),this.getTagList()}},{key:"getSpreadList",value:function(){var t=this;b.a.get("/transfer").then(function(e){var a=e.data.messages,n=e.data.domain_names;t.setState({spreadData:a,dataList:a,domain_names:n})})}},{key:"getTagList",value:function(){var t=this;b.a.get("/tuiguangTag").then(function(e){var a=e.data.data;t.setState({tagList:a})})}},{key:"changeTab",value:function(t){var e=this.state.dataList;if("ALL"===t)this.setState({spreadData:e});else{for(var a=[],n=0;n<e.length;n++)t===e[n].group&&a.push(e[n]);this.setState({spreadData:[].concat(a)})}}},{key:"goTop",value:function(t){var e=this;g.a.confirm({title:"\u786e\u5b9a\u7f6e\u9876\u8fd9\u6761\u94fe\u63a5\u5417\uff1f",onOk:function(){b.a.post("/transfer/goTop",{id:t}).then(function(t){h.a.info(t.data.success),e.getSpreadList()})}})}},{key:"deleteLink",value:function(t,e){var a=this,n=this.state.spreadData;g.a.confirm({title:"\u786e\u8ba4\u5220\u9664\u8fd9\u6761\u5185\u5bb9\u5417\uff1f:",onOk:function(){b.a.get("/transfer/delete",{params:{id:t}}).then(function(t){h.a.info(t.data.success),n.splice(e,1),a.setState({spreadData:n})})}})}},{key:"copyLink",value:function(t){var e=this;t.id+="_copy";var a=this.state.spreadData;g.a.confirm({title:"\u786e\u5b9a\u590d\u5236\u4e00\u6761\u63a8\u5e7f\u94fe\u63a5\u5417\uff1f",onOk:function(){b.a.post("/transfer/create",Object(n.a)({},t)).then(function(t){t.data.success?(h.a.info("\u590d\u5236\u6210\u529f"),a.unshift(t.data.data),e.setState({spreadData:a})):h.a.info(t.data.err)})}})}}]),e}(d.Component);e.default=y},809:function(t,e,a){"use strict";var n=a(43),r=a(44),i=a(46),o=a(45),c=a(47),s=a(0),u=a.n(s),d=a(104),l={warning:"#F39C12",danger:"#E74C3C",success:"#2ECC71",info:"#7F8C8D",update:"#3498DB"},f=function(t){function e(){var t,a;Object(n.a)(this,e);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(c)))).state={buttonStyle:{background:"#3498DB",color:"#fff",marginRight:5,marginLeft:0,marginBottom:0}},a}return Object(c.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.background,a=void 0===e?"update":e,n=t.color,r=void 0===n?"#fff":n,i=t.mr,o=void 0===i?5:i,c=t.ml,s=void 0===c?0:c,u=t.mb,d=void 0===u?0:u;this.setState({buttonStyle:{background:l[a],color:r,marginRight:o,marginLeft:s,marginBottom:d}})}},{key:"render",value:function(){var t=this.props,e=t.size,a=void 0===e?"small":e,n=t.buttonContent,r=t.disabled,i=void 0!==r&&r,o=t.onClick,c=this.state.buttonStyle;return u.a.createElement(d.a,{size:a,disabled:i,style:c,onClick:o},n)}}]),e}(s.Component);e.a=f}}]);