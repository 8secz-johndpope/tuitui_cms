(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1004:function(e,a,t){"use strict";t.r(a);var n=t(6),l=t(39),o=t(40),r=t(42),i=t(41),c=t(43),s=t(0),m=t.n(s),u=t(264),p=t(89),g=t(869),d=t(106),h=t(18),f=t(1015),v=t(801),b=t(831),E=t(796),y=t(188),C=t(988),I=g.a.Option,k=function(e){function a(){var e,t;Object(l.a)(this,a);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(t=Object(r.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(c)))).state={deleteModalStyle:{position:"absolute",top:0,left:0,width:100,height:100,background:"rgba(0, 0, 0, .3)",color:"#fff",fontSize:20,display:"none",boxSizing:"border-box"}},t.enterImg=function(e){e.stopPropagation(),t.setState(function(e){return{deleteModalStyle:Object(n.a)({},e.deleteModalStyle,{display:"block"})}})},t.leaveImg=function(e){e.stopPropagation(),t.setState(function(e){return{deleteModalStyle:Object(n.a)({},e.deleteModalStyle,{display:"none"})}})},t}return Object(c.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.history.location.query;e&&this.props.initNovelInfo(e),e&&this.props.getContent(e._id)}},{key:"render",value:function(){var e,a,t,n=this,l=this.props,o=l.novelInfo,r=l.allPlatform,i=this.props,c=i.uploadImg,s=i.uploadChecked,u=i.handleInputChange,p=i.submitNovel,y=i.cancel,k=i.deleteFinalImg,w=this.state.deleteModalStyle;return e=o.picurl?m.a.createElement("img",{style:{width:"100px"},src:o.imgUrl,alt:""}):m.a.createElement(d.a,null,m.a.createElement(h.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),a=o.finalImg?m.a.createElement("div",{style:{width:100,height:100,position:"relative"},onMouseOver:this.enterImg,onMouseLeave:this.leaveImg,onClick:k},m.a.createElement("img",{style:{width:100,height:100},src:o.finalImgUrl,alt:""}),m.a.createElement("div",{className:"cursor",style:w},m.a.createElement(h.a,{style:{margin:"40px 0 0 40px"},type:"delete"}))):m.a.createElement(f.a,{name:"imageFile",action:"/novelLinks/upload",onChange:function(e){return c(e,"finalImg")},showUploadList:!1,beforeUpload:s},m.a.createElement(d.a,null,m.a.createElement(h.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 ")),t=o.gonghaoLogo?m.a.createElement("img",{style:{width:"100px"},src:o.gonghaoLogoUrl,alt:""}):m.a.createElement(d.a,null,m.a.createElement(h.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),m.a.createElement("div",null,m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"title-wrapper"},m.a.createElement("h2",null,"\u7f16\u8f91\u5c0f\u8bf4\u5185\u5bb9"),m.a.createElement("div",{className:"fr"},m.a.createElement(d.a,{onClick:function(){return y(n.props)}},"\u53d6\u6d88"),m.a.createElement(d.a,{type:"primary",style:{marginLeft:10},onClick:function(){return p(o,n.props)}},"\u63d0\u4ea4"))),m.a.createElement(v.a,Object.assign({className:"fl",style:{width:"30%",height:500,overflow:"auto"}},{labelCol:{sm:{span:8}},wrapperCol:{sm:{span:15,offset:0}}}),m.a.createElement(v.a.Item,{label:"\u7c7b\u578b"},m.a.createElement(b.a.Group,{value:o.type,onChange:function(e){return u(e.target.value,"type")}},m.a.createElement(b.a,{value:0},"\u5934\u6761\u6295\u653e"),m.a.createElement(b.a,{value:1},"\u5e73\u53f0\u6570\u636e"))),1===o.type&&m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a.Item,{label:"\u5c0f\u8bf4\u5e73\u53f0"},m.a.createElement(g.a,{placeholder:"\u8bf7\u9009\u62e9\u5c0f\u8bf4\u5e73\u53f0",value:o.platform,onChange:function(e){return u(e,"platform")}},m.a.createElement(I,{value:0},"\u8bf7\u9009\u62e9\u5c0f\u8bf4\u5e73\u53f0"),r.map(function(e){return m.a.createElement(I,{key:e._id,value:e.platform},e.name)}))),m.a.createElement(v.a.Item,{label:"seruid"},m.a.createElement(E.a,{placeholder:"\u516c\u53f7\u5728\u5c0f\u8bf4\u5e73\u53f0\u5bf9\u5e94\u7684id",value:o.seruid,onChange:function(e){return u(e.target.value,"seruid")}}))),m.a.createElement(v.a.Item,{label:"id"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165id",value:o.id,onChange:function(e){return u(e.target.value,"id")}})),m.a.createElement(v.a.Item,{label:"\u57df\u540d"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u57df\u540d",value:o.domain_name,onChange:function(e){return u(e.target.value,"domain_name")}})),m.a.createElement(v.a.Item,{label:"\u516c\u53f7id"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165id",value:o.gonghao_id,onChange:function(e){return u(e.target.value,"gonghao_id")}})),m.a.createElement(v.a.Item,{label:"\u516c\u53f7\u540d\u79f0"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f7\u540d\u79f0",value:o.name,onChange:function(e){return u(e.target.value,"name")}})),m.a.createElement(v.a.Item,{label:"\u516c\u53f8\u540d\u79f0"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0",value:o.company,onChange:function(e){return u(e.target.value,"company")}})),m.a.createElement(v.a.Item,{label:"\u5907\u6ce8"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u540d\u79f0",value:o.remarks,onChange:function(e){return u(e.target.value,"remarks")}})),m.a.createElement(v.a.Item,{label:"\u7f51\u9875\u6807\u9898"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u9875\u9762\u6807\u9898",value:o.pageTitle,onChange:function(e){return u(e.target.value,"pageTitle")}})),m.a.createElement(v.a.Item,{label:"\u968f\u673a\u540e\u7f00"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u968f\u673a\u540e\u7f00\uff0c\u4ee5\u82f1\u6587\u9017\u53f7\u9694\u5f00",value:o.suffix,onChange:function(e){return u(e.target.value,"suffix")}})),m.a.createElement(v.a.Item,{label:"\u80cc\u666f\u989c\u8272"},m.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u80cc\u666f\u989c\u8272",value:o.bgcolor,onChange:function(e){return u(e.target.value,"bgcolor")}})),m.a.createElement(v.a.Item,{label:"\u9876\u90e8banner"},m.a.createElement(f.a,{name:"imageFile",action:"/novelLinks/upload",onChange:function(e){return c(e,"picurl")},showUploadList:!1,beforeUpload:s},e)),m.a.createElement(v.a.Item,{label:"\u516c\u53f7logo"},m.a.createElement(f.a,{name:"imageFile",action:"/novelLinks/upload",onChange:function(e){return c(e,"gonghaoLogo")},showUploadList:!1,beforeUpload:s},t)),m.a.createElement(v.a.Item,{label:"\u5e95\u90e8\u6559\u7a0b\u56fe\u7247"},a)),m.a.createElement("div",{className:"fr",style:{width:"68%"}},m.a.createElement(C.a,{apiKey:"yqk1vsq8qil9z824fv4fverb6jo24twdve8d2a8ntgmxlz09",initialValue:o.capter,value:o.capter,init:{menubar:!1,language:"zh_CN",language_url:"/langs/zh_CN.js",plugins:"print preview searchreplace autolink directionality visualblocks visualchars image link media template code codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount imagetools textpattern help emoticons autosave ",toolbar:[{name:"history",items:["code","undo","redo"]},{name:"styles",items:["fontselect","styleselect","fontsizeselect","h1","h2","h3","h4","h5","h6"]},{name:"formatting",items:["forecolor","backcolor","bold","italic","underline","strikethrough"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"symbol",items:["link","anchor","blockquote"]},{name:"indentation",items:["outdent","indent"]},{name:"list",items:["bullist","numlist"]},{name:"more",items:["table","image","media","charmap","emoticons","hr","pagebreak","insertdatetime","print","preview"]}],min_height:500,fontsize_formats:"12px 14px 16px 18px 24px 36px 48px 56px 72px",font_formats:"\u5fae\u8f6f\u96c5\u9ed1=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;\u82f9\u679c\u82f9\u65b9=PingFang SC,Microsoft YaHei,sans-serif;\u5b8b\u4f53=simsun,serif;\u4eff\u5b8b\u4f53=FangSong,serif;\u9ed1\u4f53=SimHei,sans-serif;\u6977\u4f53=\u6977\u4f53;\u96b6\u4e66=\u96b6\u4e66;\u5e7c\u5706=\u5e7c\u5706;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",toolbar_drawer:"sliding"},onChange:function(e){return u(e.target.getContent(),"capter")}}))))}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),a}(s.Component);a.default=Object(p.g)(Object(u.b)(function(e){return{novelInfo:e.channel.links.novelInfo,allPlatform:e.channel.links.allPlatform}},function(e){return{uploadImg:function(a,t){if("done"===a.file.status){var n="/images/website/".concat(a.file.response.filename);e(y.handleInputChange(n,t))}},uploadChecked:function(a){return new Promise(function(t,n){a.size>=512e3&&(e(y.uploadCheckedFalse()),n(!1)),t(!0)})},handleInputChange:function(a,t){e(y.handleInputChange(a,t))},cancel:function(a){a.history.goBack(),e(y.resetState())},submitNovel:function(a,t){e(y.submitNovel(a,t))},initNovelInfo:function(a){e(y.initNovelInfo(a))},getContent:function(a){e(y.getContent(a))},resetState:function(){e(y.resetState())},deleteFinalImg:function(){e(y.deleteFinalImg())}}})(v.a.create({name:"editNovelInfo"})(k)))}}]);