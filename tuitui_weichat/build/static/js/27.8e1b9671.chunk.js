(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1011:function(e,a,t){"use strict";t.r(a);var n=t(46),r=t(47),l=t(50),c=t(48),s=t(49),o=t(0),i=t.n(o),u=t(106),m=t(18),p=t(810),g=t(805),d=t(1023),f=t(840),h=t(842),v=t(266),E=t(89),y=t(279),b=(t(832),t(990),function(e){function a(){return Object(n.a)(this,a),Object(l.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.location.query,t=e.initRandomMsgInfo;a&&t(a)}},{key:"render",value:function(){var e,a,t=this.props,n=t.randomMessageInfo,r=t.message_info,l=t.content,c=t.currentIndex,s=t.changeContentValue,o=t.changeMessageValue,v=t.changeMessageType,E=t.uploadImg,y=t.addMessage,b=t.submitMessage,M=t.updateMessageItem,I=t.deleteMessageItem,C=t.saveMessage,w=t.cancelAction,O=t.history;e=l.picurl?i.a.createElement("img",{style:{width:"100px"},src:l.picurl,alt:""}):i.a.createElement(u.a,null,i.a.createElement(m.a,{type:"upload"})," \u4e0a\u4f20\u56fe\u7247 "),1===r.type?a=i.a.createElement(p.a.Item,{label:"\u6587\u672c\u6d88\u606f",className:"text-message"},i.a.createElement(g.a.TextArea,{autoSize:{minRows:6},value:l.description,placeholder:"\u8bf7\u8f93\u5165\u6587\u672c\u6d88\u606f",onChange:function(e){return s(e.target.value,"description")}})):0===r.type&&(a=i.a.createElement("div",null,i.a.createElement(p.a.Item,{label:"\u56fe\u7247\u5c01\u9762"},i.a.createElement(d.a,{name:"imageFile",action:"/reply/upload",onChange:E,showUploadList:!1},e)),i.a.createElement(p.a.Item,{label:"\u56fe\u6587\u6807\u9898"},i.a.createElement(g.a,{placeholder:"\u8bf7\u8f93\u5165\u56fe\u6587\u6807\u9898",value:l.title,onChange:function(e){return s(e.target.value,"title")}})),i.a.createElement(p.a.Item,{label:"\u56fe\u6587\u63cf\u8ff0",className:"text-message"},i.a.createElement(g.a.TextArea,{autoSize:{minRows:6},value:l.description,placeholder:"\u8bf7\u8f93\u5165\u56fe\u6587\u63cf\u8ff0",onChange:function(e){return s(e.target.value,"description")}})),i.a.createElement(p.a.Item,{label:"\u8df3\u8f6c\u94fe\u63a5"},i.a.createElement(g.a,{placeholder:"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5",value:l.url,onChange:function(e){return s(e.target.value,"url")}}))));return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"edit-random-message"},i.a.createElement("div",{className:"kefu-form fl"},i.a.createElement(p.a,{labelCol:{sm:{span:4}},wrapperCol:{sm:{span:20,offset:0}}},i.a.createElement(p.a.Item,{label:"\u6d88\u606f\u540d\u79f0"},i.a.createElement(g.a,{value:n.remarks,placeholder:"\u81ea\u884c\u586b\u5199\uff0c\u4fbf\u4e8e\u533a\u5206\u5bf9\u5e94",onChange:function(e){return o(e.target.value,"remarks")}})),i.a.createElement(p.a.Item,{label:"\u6d88\u606fID"},i.a.createElement(g.a,{value:n.message_id,placeholder:"\u8bf7\u5728\u5ba2\u670d\u6d88\u606f\u5217\u8868\u590d\u5236\u6d88\u606fID",onChange:function(e){return o(e.target.value,"message_id")}})),i.a.createElement(p.a.Item,null,i.a.createElement(f.a.Group,{buttonStyle:"solid",value:r.type,onChange:v},i.a.createElement(f.a.Button,{value:0},"\u56fe\u6587\u6d88\u606f"),i.a.createElement(f.a.Button,{value:1},"\u6587\u672c\u6d88\u606f"))),a,c>-1?i.a.createElement(u.a,{onClick:C},"\u4fdd\u5b58\u4fee\u6539"):i.a.createElement(u.a,{onClick:y},"\u6dfb\u52a0\u4e00\u6761"),i.a.createElement(h.a,null),i.a.createElement(p.a.Item,{className:"btn-wrapper"},i.a.createElement(u.a,{type:"primary",onClick:function(){return b(n,O)}},"\u786e\u5b9a"),i.a.createElement(u.a,{style:{marginLeft:20},type:"info",onClick:function(){return w(O)}},"\u53d6\u6d88")))),!!n.message_array.length&&i.a.createElement("ul",{className:"fr message-wrapper"},n.message_array.map(function(e,a){return i.a.createElement("li",{key:a,className:"cursor"},i.a.createElement("div",{className:"head-other"},i.a.createElement("img",{src:e.contents[0].picurl,alt:""}),i.a.createElement("h3",{className:"title textEllipsis"},e.contents[0].title),i.a.createElement("p",{className:"ellipse-two"},e.contents[0].description)),i.a.createElement("div",{className:"mask"},i.a.createElement(u.a,{onClick:function(){return M(e,a)},type:"link"},"\u7f16\u8f91"),i.a.createElement(u.a,{onClick:function(){return I(a)},type:"link"},"\u5220\u9664")))}))))}},{key:"componentWillUnmount",value:function(){this.props.resetState()}}]),a}(o.Component));a.default=Object(E.g)(Object(v.b)(function(e){return{content:e.message.randomMsg.content,message_info:e.message.randomMsg.message_info,randomMessageInfo:e.message.randomMsg.randomMessageInfo,currentIndex:e.message.randomMsg.currentIndex}},function(e){return{changeMessageValue:function(a,t){e(y.a.changeMessageValue(a,t))},changeMessageType:function(a){e(y.a.changeMessageType(a.target.value))},changeContentValue:function(a,t){e(y.a.changeContentValue(a,t))},uploadImg:function(a){if("done"===a.file.status){var t="http://t.dmmup.com/uploads/".concat(a.file.response.filename);e(y.a.changeContentValue(t,"picurl")),e(y.a.changeContentValue(t,"local_picurl"))}},addMessage:function(){e(y.a.addMessage())},updateMessageItem:function(a,t){e(y.a.updateMessageItem(a,t))},deleteMessageItem:function(a){e(y.a.deleteMessageItem(a))},saveMessage:function(){e(y.a.saveMessage())},submitMessage:function(a,t){e(y.a.submitMessage(a,t))},cancelAction:function(a){e(y.a.cancelAction(a))},resetState:function(){e(y.a.resetState())},initRandomMsgInfo:function(a){e(y.a.initRandomMsgInfo(a))}}})(b))},842:function(e,a,t){"use strict";var n=t(0),r=t(3),l=t.n(r),c=t(130);function s(){return(s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var i=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};a.a=function(e){return n.createElement(c.a,null,function(a){var t,r=a.getPrefixCls,c=e.prefixCls,u=e.type,m=void 0===u?"horizontal":u,p=e.orientation,g=void 0===p?"center":p,d=e.className,f=e.children,h=e.dashed,v=i(e,["prefixCls","type","orientation","className","children","dashed"]),E=r("divider",c),y=g.length>0?"-".concat(g):g,b=l()(d,E,"".concat(E,"-").concat(m),(o(t={},"".concat(E,"-with-text").concat(y),f),o(t,"".concat(E,"-dashed"),!!h),t));return n.createElement("div",s({className:b},v,{role:"separator"}),f&&n.createElement("span",{className:"".concat(E,"-inner-text")},f))})}},990:function(e,a,t){}}]);