(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)o=r[d],s[o]&&m.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"013e":function(t,e,a){"use strict";var n=a("b0fb"),s=a.n(n);s.a},"086e":function(t,e,a){},"0a26":function(t,e,a){"use strict";var n=a("7c78"),s=a.n(n);s.a},"191c":function(t,e,a){},"25a4":function(t,e,a){"use strict";var n=a("3989"),s=a.n(n);s.a},"38a3":function(t,e,a){"use strict";var n=a("cb53"),s=a.n(n);s.a},3989:function(t,e,a){},"3a5a":function(t,e,a){},"40b8":function(t,e,a){},4445:function(t,e,a){"use strict";var n=a("8061"),s=a.n(n);s.a},"48d3":function(t,e,a){"use strict";var n=a("191c"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("a026"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"nav"},[a("h2",{staticClass:"logo"},[t._v("后台管理系统")]),a("el-menu",{staticClass:"el-menu",attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("公号管理")]),a("el-menu-item",{attrs:{disabled:"",index:"2"}},[t._v("暂时没有开放此功能")])],1)],1),"1"==t.activeIndex?a("gh-management"):t._e()],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gh-management"},[a("slider-bar",{attrs:{sliderBar:t.sliderBarList},on:{select:t.select}}),0==t.showIndex?a("tuoguan"):t._e(),1==t.showIndex?a("menu-setting"):t._e(),2==t.showIndex?a("send-message"):t._e()],1)},r=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slider-bar"},[a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":t.sliderIndex,"background-color":"#68717a","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect1}},t._l(t.sliderBar,function(e,n){return a("el-menu-item",{key:n,attrs:{index:n.toString()}},[a("i",{class:t.sliderIndex==n?"active "+e.classname:e.classname}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])}))],1)],1)},c=[],u={props:{sliderBar:Array},data:function(){return{sliderIndex:"0"}},mounted:function(){},methods:{handleSelect1:function(t,e){this.sliderIndex=t,this.$emit("select",t)}}},d=u,m=(a("48d3"),a("2877")),p=Object(m["a"])(d,l,c,!1,null,"1ac0a08c",null);p.options.__file="sliderBar.vue";var h=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tuoguan"},[t.showTable?a("div",{staticClass:"gh-table"},[t.showSetting?a("div",{staticClass:"setting-container"},[a("setting",{attrs:{code:t.code},on:{showAgain:t.showAgain}},[t._v(t._s(t.name))])],1):a("div",[a("el-button",{staticClass:"create",attrs:{type:"primary"},on:{click:t.create}},[t._v("接管新公号")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:t.reset}},[a("span",{staticStyle:{color:"#000"}},[t._v("(慎用)")]),t._v("\n                重置code\n            ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.gonghaoList,border:""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"code",label:"code",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"公号名称",width:"80"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"appid",label:"appid",width:"120"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"appsecret",label:"appsecret",width:"170"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"token",label:"token",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"EncodingAESKey",label:"EncodingAESKey",width:"210"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"url",label:"链接",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("http://www.rrdtjj.top/weichat/"+e.row.code))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.update(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){t.setting(e.row)}}},[t._v("配置")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.remove(e.row,e.$index)}}},[t._v("删除")])]}}])})],1)],1)]):a("div",{staticClass:"edit-container"},[a("edit-info",{attrs:{data_info:t.isCreate?{token:"mingxingshuo"}:t.data_info},on:{showAgain:t.showAgain}},[t._v(t._s(t.isCreate?"接管新公号":"接管公号信息修改"))])],1)])},b=[],g=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-info"},[a("h2",{staticClass:"title"},[t._t("default")],2),a("el-form",{staticClass:"form-group",attrs:{model:t.formData,"status-icon":"","label-width":"200px"}},[a("el-form-item",{attrs:{label:"公号名称",prop:"name"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"appid",prop:"appid"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.appid,callback:function(e){t.$set(t.formData,"appid",e)},expression:"formData.appid"}})],1),a("el-form-item",{attrs:{label:"appsecret",prop:"appsecret"}},[a("el-input",{model:{value:t.formData.appsecret,callback:function(e){t.$set(t.formData,"appsecret",e)},expression:"formData.appsecret"}})],1),a("el-form-item",{attrs:{label:"token",prop:"token"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.token,callback:function(e){t.$set(t.formData,"token",e)},expression:"formData.token"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("提交")]),a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.resetForm()}}},[t._v("重置")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.cancel()}}},[t._v("取消")])],1)],1)],1)}),v=[],_=a("2f62");n["default"].use(_["a"]);var w=new _["a"].Store({state:{showTable:!0,showMenu:!0,showMsg:!0,showSetting:!1,settingTable:!0,gonghaoUpdate:!1,menuUpdate:!1,messageUpdate:!1,settingUpdate:!1},mutations:{changeShowTable:function(t,e){t.showTable=e},changeMenuTable:function(t,e){t.showMenu=e},changeMsgTable:function(t,e){t.showMsg=e},changeShowSetting:function(t,e){t.showSetting=e},changeSettingTable:function(t,e){t.settingTable=e},changeGonghaoUpdate:function(t,e){t.gonghaoUpdate=e},changeMenuUpdate:function(t,e){t.menuUpdate=e},changeMsgUpdate:function(t,e){t.messageUpdate=e},changeSettingUpdate:function(t,e){t.settingUpdate=e}},actions:{}}),y=a("bc3a"),x=a.n(y),k={props:{data_info:Object},data:function(){return{formData:{token:"mingxingshuo"}}},mounted:function(){w.state.gonghaoUpdate&&(this.formData=this.data_info)},methods:{cancel:function(){w.commit("changeShowTable",!0),w.commit("changeGonghaoUpdate",!1),this.$emit("showAgain")},resetForm:function(){this.formData={token:"mingxingshuo"}},submitForm:function(){var t=this;w.state.gonghaoUpdate?x()({url:"/conf/update",method:"post",data:{id:this.data_info._id,code:this.data_info.code,name:this.formData.name,appid:this.formData.appid,appsecret:this.formData.appsecret,token:this.formData.token}}).then(function(e){console.log(e),w.commit("changeShowTable",!0),w.commit("changeGonghaoUpdate",!1),t.$emit("showAgain")}):x()({url:"/conf/create",method:"post",data:this.formData}).then(function(e){w.commit("changeShowTable",!0),w.commit("changeGonghaoUpdate",!1),t.$emit("showAgain")})}}},D=k,S=(a("e482"),Object(m["a"])(D,g,v,!1,null,"64bd5382",null));S.options.__file="editInfo.vue";var I=S.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting"},[t.settingTable?a("div",[a("h2",{staticClass:"title"},[t._t("default")],2),a("el-button",{staticClass:"create",attrs:{type:"primary"},on:{click:t.create}},[t._v("配置新规则")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.settingList,border:""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"type",label:"类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(0===e.row.type?"文本":1===e.row.type?"点击":"关注")+"\n                ")]}}])}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"text",label:"用户回复文本",width:"200"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"key",label:"点击关键词",width:"200"}}),a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"msgId",label:"消息msgId",width:"200"}}),a("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.update(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.remove(e.row,e.$index)}}},[t._v("删除")])]}}])})],1)],1):a("edit-setting",{attrs:{data_info:t.data_info},on:{showAgain:t.showAgain}},[t._v(t._s(t.isCreate?"配置新规则":"规则修改"))])],1)},$=[],U=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-setting"},[a("h2",{staticClass:"title"},[t._t("default")],2),a("el-form",{staticClass:"form-group",attrs:{model:t.settingData,"status-icon":"","label-width":"200px"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{model:{value:t.settingData.type,callback:function(e){t.$set(t.settingData,"type",e)},expression:"settingData.type"}},[a("el-radio",{attrs:{label:0}},[t._v("文本")]),a("el-radio",{attrs:{label:1}},[t._v("点击")]),a("el-radio",{attrs:{label:2}},[t._v("关注")])],1)],1),0==t.settingData.type?a("el-form-item",{attrs:{label:"用户回复文本",prop:"text"}},[a("el-input",{attrs:{type:"text"},model:{value:t.settingData.text,callback:function(e){t.$set(t.settingData,"text",e)},expression:"settingData.text"}})],1):1==t.settingData.type?a("el-form-item",{attrs:{label:"点击关键词",prop:"key"}},[a("el-input",{attrs:{type:"text"},model:{value:t.settingData.key,callback:function(e){t.$set(t.settingData,"key",e)},expression:"settingData.key"}})],1):t._e(),a("el-form-item",{attrs:{label:"消息模板ID",prop:"msgId"}},[a("el-input",{attrs:{type:"text"},model:{value:t.settingData.msgId,callback:function(e){t.$set(t.settingData,"msgId",e)},expression:"settingData.msgId"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("提交")]),a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.resetForm()}}},[t._v("重置")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.cancel()}}},[t._v("取消")])],1)],1)],1)}),C=[],F={props:{data_info:Object},data:function(){return{settingData:{type:0}}},mounted:function(){w.state.settingUpdate&&(this.settingData=this.data_info)},methods:{cancel:function(){w.commit("changeSettingTable",!0),w.commit("changeSettingUpdate",!1),this.$emit("showAgain")},resetForm:function(){this.settingData={}},submitForm:function(){var t=this;w.state.settingUpdate?x()({url:"/reply/update",method:"post",data:{id:this.settingData._id,type:this.settingData.type,text:this.settingData.text,key:this.settingData.key,msgId:this.settingData.msgId}}).then(function(e){t.cancel()}):x()({url:"/reply/create",method:"post",data:this.settingData}).then(function(e){t.cancel()})}}},T=F,O=(a("cca3"),Object(m["a"])(T,U,C,!1,null,"2f013279",null));O.options.__file="editSetting.vue";var L=O.exports,j={computed:{settingTable:function(){return w.state.settingTable}},components:{editSetting:L},props:{code:Number},data:function(){return{settingList:[],isCreate:!0,data_info:{}}},mounted:function(){this.showSettingList()},methods:{create:function(){this.isCreate=!0,w.commit("changeSettingTable",!1)},showSettingList:function(){var t=this;x()({url:"/reply",method:"get"}).then(function(e){t.settingList=e.data.data})},showAgain:function(){this.showSettingList()},update:function(t){this.isCreate=!1,this.data_info=t,w.commit("changeSettingTable",!1),w.commit("changeSettingUpdate",!0)},remove:function(t,e){var a=this;this.$confirm("确认删除？").then(function(n){x()({url:"/reply/del",method:"get",params:{id:t._id}}).then(function(t){a.settingList.splice(e,1),a.$message({type:"success",message:t.data.success})})}).catch(function(t){a.$message({type:"info",message:"已取消删除"})})}}},A=j,z=(a("25a4"),Object(m["a"])(A,M,$,!1,null,"0ca19635",null));z.options.__file="setting.vue";var B=z.exports,E={computed:{showTable:function(){return w.state.showTable},showSetting:function(){return w.state.showSetting}},components:{editInfo:I,setting:B},data:function(){return{isCreate:!0,gonghaoList:[],data_info:{},code:null,name:""}},mounted:function(){this.showDataList()},methods:{create:function(){this.openPage()},update:function(t){this.openPage(),this.isCreate=!1,w.commit("changeGonghaoUpdate",!0),this.data_info=t},remove:function(t,e){var a=this;this.$confirm("确认删除？").then(function(n){x()({url:"/conf/del",method:"get",params:{id:t._id}}).then(function(t){a.gonghaoList.splice(e,1),a.$message({type:"success",message:t.data.success})})}).catch(function(t){})},openPage:function(){w.commit("changeShowTable",!1)},closePage:function(){w.commit("changeShowTable",!0)},showDataList:function(){var t=this;x()({url:"/conf",method:"get"}).then(function(e){t.gonghaoList=e.data.data})},showAgain:function(){this.showDataList()},reset:function(){var t=this;this.$confirm("确认重置code吗？").then(function(e){x()({url:"/conf/reset",method:"get"}).then(function(e){t.$message({type:"success",message:e.data.success})})}).catch(function(t){})},setting:function(t){this.code=t.code,this.name=t.name,w.commit("changeShowSetting",!0)}}},N=E,P=(a("4445"),Object(m["a"])(N,f,b,!1,null,"a40c2440",null));P.options.__file="tuoguan.vue";var V=P.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-setting"},[t.showMenu?a("div",{staticClass:"menu-table"},[a("el-button",{staticClass:"create",attrs:{type:"primary"},on:{click:t.create}},[t._v("配置新菜单栏")]),a("br"),t._l(t.menuList,function(e,n){return a("el-button",{key:n,attrs:{type:"warning",size:"mini"},on:{click:function(a){t.tap(e)}}},[t._v(t._s(e.code))])})],2):a("edit-info",{attrs:{data_info:t.isCreate?{}:t.data_info},on:{showAgain:t.showAgain}},[t._v(t._s(t.isCreate?"配置新菜单栏":"修改菜单栏配置"))]),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("这是一段信息")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.updateOne}},[t._v("修改")]),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteOne}},[t._v("删除")])],1)])],1)},J=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"title"},[t._t("default")],2),a("div",{staticClass:"edit-info"},[a("el-form",{staticClass:"form-group",attrs:{model:t.formData,"status-icon":"","label-width":"200px"}},[a("el-form-item",{attrs:{label:"code",prop:"code"}},[a("el-input",{attrs:{type:"text"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("el-form-item",{attrs:{label:"二级菜单",prop:"has_sub_btn"}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.subItem.has_sub_btn,callback:function(e){t.$set(t.subItem,"has_sub_btn",e)},expression:"subItem.has_sub_btn"}})],1),a("el-form-item",{attrs:{label:"一级菜单名称",prop:"name"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.subItem.has_sub_btn,expression:"!subItem.has_sub_btn"}],attrs:{label:"一级菜单类型",prop:"type"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.subItem.has_sub_btn,expression:"!subItem.has_sub_btn"}],attrs:{label:"一级菜单链接",prop:"url"}},[a("el-input",{attrs:{type:"text"},model:{value:t.formData.url,callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.subItem.has_sub_btn,expression:"subItem.has_sub_btn"}],attrs:{label:"二级菜单名称",prop:"name"}},[a("el-input",{attrs:{type:"text"},model:{value:t.subItem.name,callback:function(e){t.$set(t.subItem,"name",e)},expression:"subItem.name"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.subItem.has_sub_btn,expression:"subItem.has_sub_btn"}],attrs:{label:"二级菜单类型",prop:"type"}},[a("el-input",{attrs:{type:"text"},model:{value:t.subItem.type,callback:function(e){t.$set(t.subItem,"type",e)},expression:"subItem.type"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.subItem.has_sub_btn,expression:"subItem.has_sub_btn"}],attrs:{label:"链接/关键词"}},[a("el-radio",{attrs:{label:"url"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("链接")]),a("el-radio",{attrs:{label:"key"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("关键词")])],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.subItem.has_sub_btn&&"url"==t.radio,expression:"subItem.has_sub_btn && radio == 'url'"}],attrs:{label:"二级菜单链接",prop:"url"}},[a("el-input",{attrs:{type:"text"},model:{value:t.subItem.url,callback:function(e){t.$set(t.subItem,"url",e)},expression:"subItem.url"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.subItem.has_sub_btn&&"key"==t.radio,expression:"subItem.has_sub_btn && radio == 'key'"}],attrs:{label:"二级菜单关键词",prop:"key"}},[a("el-input",{attrs:{type:"text"},model:{value:t.subItem.key,callback:function(e){t.$set(t.subItem,"key",e)},expression:"subItem.key"}})],1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.subItem.has_sub_btn&&!t.isUpdate1,expression:"subItem.has_sub_btn && !isUpdate1"}],staticStyle:{"margin-left":"200px"},attrs:{type:"primary"},on:{click:function(e){t.addSubBtn()}}},[t._v("添加二级菜单")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isUpdate1,expression:"isUpdate1"}],staticStyle:{"margin-left":"200px"},attrs:{type:"success"},on:{click:function(e){t.saveSecond()}}},[t._v("保存")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.subItem.has_sub_btn,expression:"subItem.has_sub_btn"}],staticClass:"line"}),a("el-button",{staticStyle:{"margin-left":"200px"},attrs:{type:"primary"},on:{click:function(e){t.addBtn()}}},[t._v("添加一级菜单")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isUpdate,expression:"isUpdate"}],staticStyle:{"margin-left":"30px"},attrs:{type:"success"},on:{click:function(e){t.saveFirst()}}},[t._v("保存")]),a("el-table",{staticStyle:{width:"100%",margin:"30px"},attrs:{data:t.values,border:""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"一级菜单名称",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.name?e.row.name:"~")+"\n                    ")]}}])}),a("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.updateFirst(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.removeFirst(e.$index)}}},[t._v("删除")])]}}])})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("提交")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.cancel()}}},[t._v("取消")])],1)],1)],1),a("div",{staticClass:"sub-btn-table"},[a("el-table",{staticStyle:{width:"100%","z-index":"-1"},attrs:{data:t.formData.subList,border:""}},[a("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"name",label:"二级菜单名称",width:"200"}}),a("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.updateSecond(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.removeSecond(e.$index)}}},[t._v("删除")])]}}])})],1)],1)])},H=[],q=(a("ac6a"),{props:{data_info:Object},data:function(){return{code:"",formData:{subList:[]},values:[],subItem:{has_sub_btn:!1},radio:"url",isUpdate:!1,isUpdate1:!1}},mounted:function(){this.isUpdate=w.state.menuUpdate,w.state.menuUpdate&&(this.code=this.data_info.code,this.values=this.data_info.values,this.formData=this.values[0])},methods:{cancel:function(){w.commit("changeMenuTable",!0),w.commit("changeMenuUpdate",!1),this.$emit("showAgain")},resetForm:function(){this.formData={}},addBtn:function(){this.values.push(this.formData),this.formData={subList:[]}},submitForm:function(){var t=this;w.state.menuUpdate?x()({url:"/menu/update",method:"post",data:{id:this.data_info._id,code:this.code,values:this.values}}).then(function(e){t.values=[],t.formData={subList:[]},w.commit("changeMenuUpdate",!1),w.commit("changeMenuTable",!0),t.$emit("showAgain")}):x()({url:"/menu/create",method:"post",data:{code:this.code,values:this.values}}).then(function(e){w.commit("changeMenuTable",!0),t.$emit("showAgain")})},addSubBtn:function(){this.formData.subList.push(this.subItem),this.subItem={has_sub_btn:!0}},updateFirst:function(t){this.formData=t},updateSecond:function(t){this.subItem=t,this.isUpdate1=!0},removeFirst:function(t){this.values.splice(t,1),this.formData={subList:[]},console.log(this.formData)},removeSecond:function(t){this.formData.subList.splice(t,1),this.subItem={has_sub_btn:!1}},saveFirst:function(){this.formData={subList:[]}},saveSecond:function(){this.isUpdate1=!1,this.subItem={has_sub_btn:!0}}}}),Q=q,R=(a("013e"),Object(m["a"])(Q,K,H,!1,null,"23aea95e",null));R.options.__file="editInfo.vue";var W=R.exports,X={components:{editInfo:W},computed:{showMenu:function(){return w.state.showMenu},menuUpdate:function(){return w.state.menuUpdate}},data:function(){return{isCreate:!0,menuList:[],data_info:{},dialogVisible:!1,menuIndex:""}},mounted:function(){this.showMenuList()},methods:{create:function(){w.commit("changeMenuTable",!1)},tap:function(t){this.isCreate=!1,this.dialogVisible=!0,w.commit("changeMenuUpdate",!0),this.data_info=t},showMenuList:function(){var t=this;x()({url:"/menu/",method:"get"}).then(function(e){t.menuList=e.data.data})},updateOne:function(){w.commit("changeMenuUpdate",!0),this.dialogVisible=!1,w.commit("changeMenuTable",!1)},deleteOne:function(){var t=this;x()({url:"/menu/del",method:"get",params:{id:this.data_info._id}}).then(function(e){var a=t;a.dialogVisible=!1,w.commit("changeMenuUpdate",!1),t.$confirm("确认删除？").then(function(t){a.showMenuList(),a.$message({type:"success",message:e.data.success})}).catch(function(t){})})},showAgain:function(){this.showMenuList()}}},Y=X,Z=(a("a407"),Object(m["a"])(Y,G,J,!1,null,"6d197dee",null));Z.options.__file="menuSetting.vue";var tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message"},[t.showMsg?a("div",[a("el-button",{staticClass:"create",attrs:{type:"primary"},on:{click:t.create}},[t._v("添加新消息")]),a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"msgId","header-align":"center",align:"center",label:"msgId",width:"65"}}),a("el-table-column",{attrs:{prop:"type",label:"类型","header-align":"center",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.type?"文本消息":"图文消息")+t._s(e.row.contents.length>1?"(多)":""))])]}}])}),a("el-table-column",{attrs:{prop:"contents[0].title","header-align":"center",align:"center",label:"标题",width:"100"}}),a("el-table-column",{attrs:{prop:"contents[0].description","header-align":"center",align:"center",label:"详细信息",width:"220"}}),a("el-table-column",{attrs:{prop:"contents[0].url","header-align":"center",align:"center",label:"链接",width:"150"}}),a("el-table-column",{attrs:{prop:"contents[0].picurl","header-align":"center",align:"center",label:"图片",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.contents[0].picurl?a("img",{attrs:{src:e.row.contents[0].picurl,width:"100%"}}):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(a){t.copyMessage(e.row)}}},[t._v("复制")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){t.updateMessage(e.$index,e.row)}}},[t._v("修改")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.deleteMessage(e.row,e.$index)}}},[t._v("删除")])]}}])})],1)],1):a("edit-message",{attrs:{data_info:t.data_info},on:{showAgain:t.showAgain}},[t._v(t._s(t.isCreate?"新增客服消息":"编辑客服消息"))])],1)},at=[],nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-message"},[a("el-form",{ref:"form",attrs:{"label-width":"80px",size:"mini"}},[a("el-form-item",[a("h2",[t._t("default")],2)]),a("el-form-item",{attrs:{label:"类型"}},[a("el-radio-group",{attrs:{size:"medium"},on:{change:t.change},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio",{attrs:{border:"",label:"0"}},[t._v("文本消息")]),a("el-radio",{attrs:{border:"",label:"1"}},[t._v("图文消息")])],1)],1),0!=t.type?a("el-form",{ref:"subForm",attrs:{model:t.subForm,"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{attrs:{"show-file-list":!1,enctype:"multipart/form-data",name:"imageFile",action:"http://crm.rrdtjj.top/message/upload","on-success":t.handleAvatarSuccess}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t.imgUrl?a("img",{staticStyle:{"margin-top":"10px"},attrs:{src:t.imgUrl,alt:"",width:"200"}}):t._e()],1)],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.subForm.title,callback:function(e){t.$set(t.subForm,"title",e)},expression:"subForm.title"}})],1),a("el-form-item",{attrs:{label:"链接"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.subForm.url,callback:function(e){t.$set(t.subForm,"url",e)},expression:"subForm.url"}})],1),a("el-form-item",{attrs:{label:"详细信息",prop:"description"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea"},model:{value:t.subForm.description,callback:function(e){t.$set(t.subForm,"description",e)},expression:"subForm.description"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"success"},on:{click:t.addOne}},[t._v("添加")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveOne}},[t._v("保存")])],1),a("el-form-item",{attrs:{label:"图文消息",prop:"pic_message"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.picMessageData,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"100"}}),a("el-table-column",{staticStyle:{"margin-top":"30px"},attrs:{prop:"picurl",label:"图片",width:"200"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.picurl,width:"100%"}})]}}])}),a("el-table-column",{attrs:{prop:"url",label:"链接",width:"200"}}),a("el-table-column",{attrs:{prop:"description",label:"详细信息",width:"300"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){t.updateOne(e.$index,e.row)}}},[t._v("修改")]),a("el-button",{staticClass:"send-message",attrs:{size:"small",type:"danger"},on:{click:function(a){t.deleteOne(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1):a("el-form-item",{attrs:{label:"详细信息",prop:"description"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSave}},[t._v("保存")]),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},st=[],it=(a("6b54"),{props:{data_info:Object},data:function(){return{type:"0",subForm:{},picMessageData:[],contents:[],description:"",imgUrl:"",id:"",index:0}},mounted:function(){w.state.messageUpdate&&(this.type=this.data_info.type.toString(),this.description=this.data_info.description,this.picMessageData=this.data_info.contents,this.subForm=this.picMessageData[0],this.imgUrl=this.subForm.picurl,this.id=this.data_info._id)},methods:{onSave:function(){var t=this,e=this;w.state.messageUpdate?(""!=e.description?e.contents.push({description:e.description}):e.contents=e.picMessageData,x()({url:"/msg/update",method:"post",data:{id:this.id,type:this.type,description:this.description,contents:this.contents}}).then(function(e){t.close()})):(""!=e.description?e.contents.push({description:e.description}):e.contents=e.picMessageData,x()({url:"/msg/create",method:"post",data:{type:this.type,description:this.description,contents:this.contents}}).then(function(e){t.close()}))},addOne:function(){this.subForm.picurl=this.imgUrl,this.picMessageData.push(this.subForm),this.subForm={}},saveOne:function(){this.subForm.picurl=this.imgUrl,this.picMessageData.splice(this.index,1,this.subForm),this.subForm={},this.imgUrl=""},change:function(){this.description="",this.subForm={}},handleAvatarSuccess:function(t,e){this.imgUrl="http://crm.rrdtjj.top/uploads/"+t.filename},updateOne:function(t,e){this.index=t,this.subForm=e,this.imgUrl=e.picurl},deleteOne:function(t,e){var a=this;this.$confirm("此操作删除此条客服消息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){w.state.messageUpdate&&a.picMessageData.length<=1?a.$message({type:"info",message:" 列表中最少展示一条数据"}):(a.picMessageData.splice(t,1),a.$message({type:"success",message:" 删除成功"}))}).catch(function(){a.$message({type:"warning",message:"已取消删除"})})},cancel:function(){this.close()},reset:function(){this.type="0",this.imgUrl=this.description="",this.subForm={},this.picMessageData=[]},close:function(){w.commit("changeMsgTable",!0),w.commit("changeMsgUpdate",!1),this.$emit("showAgain"),this.reset()}}}),ot=it,rt=(a("dbd0"),Object(m["a"])(ot,nt,st,!1,null,"67ff587f",null));rt.options.__file="editMessage.vue";var lt=rt.exports,ct={computed:{showMsg:function(){return w.state.showMsg},messageUpdate:function(){return w.state.messageUpdate}},components:{editMessage:lt},data:function(){return{tableData:[],desShow:"",isCreate:!0,data_info:{}}},mounted:function(){this.showMessage()},methods:{create:function(){w.commit("changeMsgTable",!1),this.isCreate=!0},copyMessage:function(t){var e=this;x()({url:"/msg/create",method:"post",data:{contents:t.contents,type:t.type,description:t.description}}).then(function(t){e.showMessage(),console.log(t)})},showMessage:function(){var t=this;x()({url:"/msg",method:"get",parmas:{},withCredentials:!0}).then(function(e){0!=e.data.data.length&&(t.tableData=e.data.data)})},showAgain:function(){this.showMessage()},updateMessage:function(t,e){w.commit("changeMsgTable",!1),w.commit("changeMsgUpdate",!0),this.isCreate=!1,this.data_info=e},deleteMessage:function(t,e){var a=this;this.$confirm("此操作删除此条客服消息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){x()({url:"/msg/del",method:"get",params:{id:t._id}}).then(function(t){a.$message({type:"success",message:t.data.success}),a.showMessage(),a.tableData.splice(e,1)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}},ut=ct,dt=(a("9445"),Object(m["a"])(ut,et,at,!1,null,"a372d6b4",null));dt.options.__file="message.vue";var mt=dt.exports,pt={name:"ghManagement",components:{sliderBar:h,tuoguan:V,sendMessage:mt,menuSetting:tt},data:function(){return{showIndex:0,sliderBarList:[{classname:"el-icon-menu",title:"公号托管"},{classname:"el-icon-setting",title:"设置菜单栏"},{classname:"el-icon-message",title:"回复消息"}]}},methods:{select:function(t){this.showIndex=t}}},ht=pt,ft=(a("0a26"),Object(m["a"])(ht,o,r,!1,null,"71cf3ed3",null));ft.options.__file="ghManagement.vue";var bt=ft.exports,gt={components:{ghManagement:bt},data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(t,e){this.activeIndex=t}}},vt=gt,_t=(a("38a3"),Object(m["a"])(vt,s,i,!1,null,"6d3399fa",null));_t.options.__file="Home.vue";var wt=_t.exports,yt=a("8c4f");n["default"].use(yt["a"]);var xt=new yt["a"]({mode:"history",base:"/",routes:[{path:"/management",name:"home",component:wt}]}),kt=a("5c96"),Dt=a.n(kt);a("0fae");n["default"].use(Dt.a),n["default"].config.productionTip=!1,new n["default"]({router:xt,store:w,render:function(t){return t(wt)}}).$mount("#app")},"7c78":function(t,e,a){},8061:function(t,e,a){},9445:function(t,e,a){"use strict";var n=a("cd5f"),s=a.n(n);s.a},a045:function(t,e,a){},a407:function(t,e,a){"use strict";var n=a("40b8"),s=a.n(n);s.a},b0fb:function(t,e,a){},cb53:function(t,e,a){},cca3:function(t,e,a){"use strict";var n=a("a045"),s=a.n(n);s.a},cd5f:function(t,e,a){},dbd0:function(t,e,a){"use strict";var n=a("3a5a"),s=a.n(n);s.a},e482:function(t,e,a){"use strict";var n=a("086e"),s=a.n(n);s.a}});