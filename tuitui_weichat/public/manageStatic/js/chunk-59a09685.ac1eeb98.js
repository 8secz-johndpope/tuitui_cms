(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59a09685"],{"56a8":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"send-message"},[e("Button",{staticClass:"btn-back",attrs:{type:"warning"},on:{click:t.back}},[t._v("返回")]),e("Table",{staticClass:"message-table",attrs:{stripe:"",columns:t.messageHeader,data:t.messageData}}),t.modalShow?e("div",{staticClass:"tag-modal"},[e("h3",[t._v("请选择要发送的标签")]),e("br"),e("RadioGroup",{model:{value:t.tagId,callback:function(a){t.tagId=a},expression:"tagId"}},t._l(t.tagList,function(a,n){return e("Radio",{key:n,attrs:{label:a.tagId}},[t._v(t._s(a.name))])})),e("br"),e("Button",{staticClass:"btn",attrs:{type:"warning"},on:{click:t.cancel}},[t._v("取消")]),e("Button",{staticClass:"btn",attrs:{type:"success"},on:{click:t.submit}},[t._v("确定")])],1):t._e()],1)},i=[],s={data:function(){var t=this;return{modalShow:!1,tagList:[],id:"",tagId:0,mediaId:"",messageData:[],messageHeader:[{key:"media_id",title:"media_id",align:"center",width:100},{key:"name",title:"name",align:"center"},{key:"url",title:"url",align:"center",width:80},{key:"update_time",title:"update_time",align:"center"},{title:"图文内容",align:"center",render:function(t,a){var e=a.row.content.news_item[0].content;return t("span",{props:{}},e)}},{title:"图文图片",align:"center",render:function(t,a){var e=a.row.content.news_item[0].url;return t("span",{props:{}},e)}},{title:"Action",align:"center",render:function(a,e){var n=t;return a("div",[a("Button",{style:{marginRight:"10px"},props:{type:"primary",size:"small"},on:{click:function(){n.modalShow=!0,n.id=e.row._id,n.mediaId=e.row.mediaId,n.tagList()}}},"发送消息")])}}]}},mounted:function(){this.showDataList()},methods:{back:function(){this.$router.push({name:"群发列表"})},showDataList:function(){var t=this;this.$axios.get("/material/show",{params:{code:this.$route.params}}).then(function(a){t.messageData=a.data.data})},getTagList:function(){var t=this;this.$axios.get("/material/tag").then(function(a){t.tagList=a.data.data})},cancel:function(){this.modalShow=!1},submit:function(){var t=this;this.$axios.get("/material/send",{params:{id:this.id,tagId:this.tagId,mediaId:this.mediaId}}).then(function(a){t.$Message.info(a.data.data)})}}},r=s,o=(e("8c1f"),e("2877")),c=Object(o["a"])(r,n,i,!1,null,"c4a9ae8c",null);c.options.__file="sendMessage.vue";a["default"]=c.exports},"87b7":function(t,a,e){},"8c1f":function(t,a,e){"use strict";var n=e("87b7"),i=e.n(n);i.a}}]);
//# sourceMappingURL=chunk-59a09685.ac1eeb98.js.map