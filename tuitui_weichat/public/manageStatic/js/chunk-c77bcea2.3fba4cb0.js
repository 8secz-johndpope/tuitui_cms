(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c77bcea2"],{"092a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tuoguan"},["公号托管"===t.$route.name?n("div",[n("Button",{staticClass:"create",attrs:{type:"success",to:"/manage/gonghao/tuoguan/create"}},[t._v("接管新公号")]),n("Button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:t.reset}},[n("span",{staticStyle:{color:"#000"}},[t._v("(慎用)")]),t._v("\n            重置code\n        ")]),n("Table",{staticClass:"tuoguan-table",attrs:{stripe:"",columns:t.tuoguanHeader,data:t.tuoguanData}}),n("Page",{attrs:{"show-total":"",total:t.dataList.length,"page-size":10},on:{"on-change":t.changePage}})],1):t._e(),n("router-view")],1)},o=[],i={data:function(){var t=this;return{isCreate:!0,code:null,name:"",dataList:[],tuoguanData:[],tuoguanHeader:[{key:"code",title:"code",align:"center",width:80},{key:"name",title:"公号名称",align:"center"},{key:"appid",title:"appid",align:"center"},{key:"appsecret",title:"appsecret",align:"center"},{key:"token",title:"token",align:"center"},{key:"EncodingAESKey",title:"EncodingAESKey",align:"center"},{key:"url",title:"链接",align:"center",render:function(t,e){var n="http://test.oorggt.top/weichat/"+e.row.code;return t("span",{props:{}},n)}},{title:"接管状态",align:"center",render:function(t,e){var n=-2==e.row.status?"未接管":-1==e.row.status?"接管中":"已接管";return t("span",{props:{}},n)}},{title:"Action",align:"center",width:240,render:function(e,n){var a=t;return e("div",[e("Button",{style:{marginRight:"10px"},props:{type:"primary",size:"small"},on:{click:function(){a.$router.push({name:"修改公号",params:n.row})}}},"编辑"),e("Button",{style:{marginRight:"10px"},props:{type:"warning",size:"small"},on:{click:function(){a.$router.push({name:"配置公号",params:{code:n.row.code}})}}},"配置"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"10px"},on:{click:function(){a.$Modal.confirm({title:"提示:",content:"确认删除这条内容吗？",onOk:function(){a.$axios.get("/conf/del",{params:{id:n.row._id}}).then(function(t){a.tuoguanData.splice(n.index,1),a.$Message.info(t.data.success)})}})}}},"删除"),e("Button",{props:{type:"success",size:"small",disabled:-2!=n.row.status},on:{click:function(){a.$Modal.confirm({title:"提示:",content:"确认开始接管吗？",onOk:function(){a.$axios.get("/conf/jieguan",{params:{code:n.row.code}}).then(function(t){a.$Message.info("开始接管"),a.$router.go(0)})}})}}},"接管")])}}]}},mounted:function(){this.showDataList()},methods:{showDataList:function(){var t=this;this.$axios.get("/conf").then(function(e){t.dataList=e.data.data,t.tuoguanData=t.dataList.slice(0,10)})},reset:function(){var t=this;this.$axios.get("/conf/reset").then(function(e){t.$Message.info(e.data.success)})},changePage:function(t){var e=10*(t-1),n=10*t;this.tuoguanData=this.dataList.slice(e,n),this.goTop()},goTop:function(){var t=this;t.timer=setInterval(function(){var e=document.documentElement.scrollTop||document.body.scrollTop,n=Math.floor(-e);document.documentElement.scrollTop=document.body.scrollTop=e+n,t.isTop=!0,0===e&&clearInterval(t.timer)},30)}}},s=i,c=(n("8fcc"),n("2877")),r=Object(c["a"])(s,a,o,!1,null,"2c62da62",null);r.options.__file="tuoguan.vue";e["default"]=r.exports},"822d":function(t,e,n){},"8fcc":function(t,e,n){"use strict";var a=n("822d"),o=n.n(a);o.a}}]);
//# sourceMappingURL=chunk-c77bcea2.3fba4cb0.js.map